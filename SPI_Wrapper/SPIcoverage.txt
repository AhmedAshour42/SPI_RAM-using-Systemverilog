Coverage Report by instance with details

=================================================================================
=== Instance: /Wrapper_tb/DUT/s1
=== Design Unit: work.slave
=================================================================================
Branch Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Branches                        55        54         1    98.18%

================================Branch Details================================

Branch Coverage for instance /Wrapper_tb/DUT/s1

    Line         Item                      Count     Source 
    ----         ----                      -----     ------ 
  File slave.v
------------------------------------IF Branch------------------------------------
    21                                    300103     Count coming in to IF
    21              1                       3725     		if(~rst_n)	begin
    24              1                     296378     		else	begin
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------CASE Branch------------------------------------
    30                                    594396     Count coming in to CASE
    31              1                     124947     			IDLE:
    38              1                      81579     			READ_DATA:
    45              1                      95344     			READ_ADD:
    52              1                      94213     			CHK_CMD:
    65              1                     198312     			WRITE:
    73              1                          1     			default: ns <= IDLE;
Branch totals: 6 hits of 6 branches = 100.00%

------------------------------------IF Branch------------------------------------
    32                                    124947     Count coming in to IF
    32              1                      61543     				if(SS_n)		begin
    35              1                      63404     				else	begin
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    39                                     81579     Count coming in to IF
    39              1                      67438     				if(~SS_n)	begin
    42              1                      14141     				else	begin
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    46                                     95344     Count coming in to IF
    46              1                      81234     				if(~SS_n)	begin
    49              1                      14110     				else	begin
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    53                                     94213     Count coming in to IF
    53              1                      17826     				if( (~SS_n) && (MOSI == 1) && rd_addr_received )	begin
    56              1                      27928     				else if( (~SS_n) && (MOSI == 1) )	begin
    59              1                      47425     				else if ( (~SS_n) && (MOSI == 0) )	begin
    62              1                       1033     				else if (SS_n)	begin
                                               1     All False Count
Branch totals: 5 hits of 5 branches = 100.00%

------------------------------------IF Branch------------------------------------
    66                                    198312     Count coming in to IF
    66              1                     166674     				if(~SS_n)	begin
    69              1                      31638     				else	begin
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    78                                     14541     Count coming in to IF
    78              1                       1859     		if (!rst_n) begin
    82              1                      12682     		else begin
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    89                                    906961     Count coming in to IF
    89              1                       1897     		if (!rst_n) begin
    96              1                     905064     		else begin 
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------CASE Branch------------------------------------
    97                                    905064     Count coming in to CASE
    98              1                     216416     		    	IDLE:begin
    107             1                      62206     		    	CHK_CMD:begin
    111             1                     331522     			    WRITE:begin
    130             1                     147347     	    		READ_ADD:begin
    150             1                     147573     	    		READ_DATA:begin
                                         ***0***     All False Count
Branch totals: 5 hits of 6 branches = 83.33%

------------------------------------IF Branch------------------------------------
    99                                    216416     Count coming in to IF
    99              1                     114960     		    		if (!start_to_take) begin
                                          101456     All False Count
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    112                                   331522     Count coming in to IF
    112             1                     302823     			    	if (start_to_give ==1)	begin
    126             1                      28699     					else begin
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    114                                   302823     Count coming in to IF
    114             1                      28850     						if (i==9) begin
    121             1                     273973     						else  begin
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    117                                    28850     Count coming in to IF
    117             1                      28699     							if ( (rx_data[8]==1'b0) && (!SS_n)) begin
                                             151     All False Count
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    131                                   147347     Count coming in to IF
    131             1                     134664     	    			if (start_to_give ==1)	begin
    146             1                      12683     					else begin
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    133                                   134664     Count coming in to IF
    133             1                      12782     						if (i==9) begin
    141             1                     121882     						else  begin
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    136                                    12782     Count coming in to IF
    136             1                      12683     							if ( (rx_data[8:7]==2'b10) && (!SS_n) ) begin
                                              99     All False Count
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    151                                   147573     Count coming in to IF
    151             1                     134891     	    			if (start_to_give ==1)	begin
    166             1                      12682     					else begin
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    153                                   134891     Count coming in to IF
    153             1                      12768     						if (i==9) begin
    161             1                     122123     						else  begin
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    156                                    12768     Count coming in to IF
    156             1                      12682     							if ( (rx_data[8:7]==2'b11) && (!SS_n) ) begin
                                              86     All False Count
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    175                                   120944     Count coming in to IF
    175             1                     101456     		if (start_to_take==1) begin
                                           19488     All False Count
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    178                                   101456     Count coming in to IF
    178             1                      12682     			if (j == 0)	begin
    182             1                      88774     			else begin
Branch totals: 2 hits of 2 branches = 100.00%


Condition Coverage:
    Enabled Coverage              Bins   Covered    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Conditions                      17        13         4    76.47%

================================Condition Details================================

Condition Coverage for instance /Wrapper_tb/DUT/s1 --

  File slave.v
----------------Focused Condition View-------------------
Line       53 Item    1  ((~SS_n && MOSI) && rd_addr_received)
Condition totals: 3 of 3 input terms covered = 100.00%

        Input Term   Covered  Reason for no coverage   Hint
       -----------  --------  -----------------------  --------------
              SS_n         Y
              MOSI         Y
  rd_addr_received         Y

     Rows:       Hits  FEC Target            Non-masking condition(s)      
 ---------  ---------  --------------------  -------------------------     
  Row   1:          1  SS_n_0                (rd_addr_received && MOSI)    
  Row   2:          1  SS_n_1                -                             
  Row   3:          1  MOSI_0                ~SS_n                         
  Row   4:          1  MOSI_1                (rd_addr_received && ~SS_n)   
  Row   5:          1  rd_addr_received_0    (~SS_n && MOSI)               
  Row   6:          1  rd_addr_received_1    (~SS_n && MOSI)               

----------------Focused Condition View-------------------
Line       56 Item    1  (~SS_n && MOSI)
Condition totals: 2 of 2 input terms covered = 100.00%

  Input Term   Covered  Reason for no coverage   Hint
 -----------  --------  -----------------------  --------------
        SS_n         Y
        MOSI         Y

     Rows:       Hits  FEC Target            Non-masking condition(s)      
 ---------  ---------  --------------------  -------------------------     
  Row   1:          1  SS_n_0                MOSI                          
  Row   2:          1  SS_n_1                -                             
  Row   3:          1  MOSI_0                ~SS_n                         
  Row   4:          1  MOSI_1                ~SS_n                         

----------------Focused Condition View-------------------
Line       59 Item    1  (SS_n ~| MOSI)
Condition totals: 1 of 2 input terms covered = 50.00%

  Input Term   Covered  Reason for no coverage   Hint
 -----------  --------  -----------------------  --------------
        SS_n         Y
        MOSI         N  '_1' not hit             Hit '_1'

     Rows:       Hits  FEC Target            Non-masking condition(s)      
 ---------  ---------  --------------------  -------------------------     
  Row   1:          1  SS_n_0                ~MOSI                         
  Row   2:          1  SS_n_1                ~MOSI                         
  Row   3:          1  MOSI_0                ~SS_n                         
  Row   4:    ***0***  MOSI_1                ~SS_n                         

----------------Focused Condition View-------------------
Line       114 Item    1  (i == 9)
Condition totals: 1 of 1 input term covered = 100.00%

  Input Term   Covered  Reason for no coverage   Hint
 -----------  --------  -----------------------  --------------
    (i == 9)         Y

     Rows:       Hits  FEC Target            Non-masking condition(s)      
 ---------  ---------  --------------------  -------------------------     
  Row   1:          1  (i == 9)_0            -                             
  Row   2:          1  (i == 9)_1            -                             

----------------Focused Condition View-------------------
Line       117 Item    1  (rx_data[8] ~| SS_n)
Condition totals: 1 of 2 input terms covered = 50.00%

  Input Term   Covered  Reason for no coverage   Hint
 -----------  --------  -----------------------  --------------
  rx_data[8]         N  '_1' not hit             Hit '_1'
        SS_n         Y

     Rows:       Hits  FEC Target            Non-masking condition(s)      
 ---------  ---------  --------------------  -------------------------     
  Row   1:          1  rx_data[8]_0          ~SS_n                         
  Row   2:    ***0***  rx_data[8]_1          ~SS_n                         
  Row   3:          1  SS_n_0                ~rx_data[8]                   
  Row   4:          1  SS_n_1                ~rx_data[8]                   

----------------Focused Condition View-------------------
Line       133 Item    1  (i == 9)
Condition totals: 1 of 1 input term covered = 100.00%

  Input Term   Covered  Reason for no coverage   Hint
 -----------  --------  -----------------------  --------------
    (i == 9)         Y

     Rows:       Hits  FEC Target            Non-masking condition(s)      
 ---------  ---------  --------------------  -------------------------     
  Row   1:          1  (i == 9)_0            -                             
  Row   2:          1  (i == 9)_1            -                             

----------------Focused Condition View-------------------
Line       136 Item    1  ((rx_data[8:7] == 2) && ~SS_n)
Condition totals: 1 of 2 input terms covered = 50.00%

           Input Term   Covered  Reason for no coverage   Hint
          -----------  --------  -----------------------  --------------
  (rx_data[8:7] == 2)         N  '_0' not hit             Hit '_0'
                 SS_n         Y

     Rows:       Hits  FEC Target             Non-masking condition(s)      
 ---------  ---------  --------------------   -------------------------     
  Row   1:    ***0***  (rx_data[8:7] == 2)_0  -                             
  Row   2:          1  (rx_data[8:7] == 2)_1  ~SS_n                         
  Row   3:          1  SS_n_0                 (rx_data[8:7] == 2)           
  Row   4:          1  SS_n_1                 (rx_data[8:7] == 2)           

----------------Focused Condition View-------------------
Line       153 Item    1  (i == 9)
Condition totals: 1 of 1 input term covered = 100.00%

  Input Term   Covered  Reason for no coverage   Hint
 -----------  --------  -----------------------  --------------
    (i == 9)         Y

     Rows:       Hits  FEC Target            Non-masking condition(s)      
 ---------  ---------  --------------------  -------------------------     
  Row   1:          1  (i == 9)_0            -                             
  Row   2:          1  (i == 9)_1            -                             

----------------Focused Condition View-------------------
Line       156 Item    1  ((rx_data[8:7] == 3) && ~SS_n)
Condition totals: 1 of 2 input terms covered = 50.00%

           Input Term   Covered  Reason for no coverage   Hint
          -----------  --------  -----------------------  --------------
  (rx_data[8:7] == 3)         N  '_0' not hit             Hit '_0'
                 SS_n         Y

     Rows:       Hits  FEC Target             Non-masking condition(s)      
 ---------  ---------  --------------------   -------------------------     
  Row   1:    ***0***  (rx_data[8:7] == 3)_0  -                             
  Row   2:          1  (rx_data[8:7] == 3)_1  ~SS_n                         
  Row   3:          1  SS_n_0                 (rx_data[8:7] == 3)           
  Row   4:          1  SS_n_1                 (rx_data[8:7] == 3)           

----------------Focused Condition View-------------------
Line       178 Item    1  (j == 0)
Condition totals: 1 of 1 input term covered = 100.00%

  Input Term   Covered  Reason for no coverage   Hint
 -----------  --------  -----------------------  --------------
    (j == 0)         Y

     Rows:       Hits  FEC Target            Non-masking condition(s)      
 ---------  ---------  --------------------  -------------------------     
  Row   1:          1  (j == 0)_0            -                             
  Row   2:          1  (j == 0)_1            -                             


FSM Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    FSM States                       5         5         0   100.00%
    FSM Transitions                  8         8         0   100.00%

================================FSM Details================================

FSM Coverage for instance /Wrapper_tb/DUT/s1 --

FSM_ID: cs
    Current State Object : cs
    ----------------------
    State Value MapInfo :
    ---------------------
Line          State Name               Value
----          ----------               -----
  31                IDLE                   0
  52             CHK_CMD                   3
  38           READ_DATA                   1
  45            READ_ADD                   2
  65               WRITE                   4
    Covered States :
    ----------------
                   State           Hit_count
                   -----           ---------
                    IDLE              116403          
                 CHK_CMD               62446          
               READ_DATA               28679          
                READ_ADD               28596          
                   WRITE               63979          
    Covered Transitions :
    ---------------------
Line            Trans_ID           Hit_count          Transition          
----            --------           ---------          ----------          
  36                   0               62446          IDLE -> CHK_CMD               
  63                   1                1257          CHK_CMD -> IDLE               
  60                   2               32273          CHK_CMD -> WRITE              
  57                   3               14442          CHK_CMD -> READ_ADD           
  54                   4               14473          CHK_CMD -> READ_DATA          
  43                   5               14473          READ_DATA -> IDLE             
  50                   6               14442          READ_ADD -> IDLE              
  70                   7               32273          WRITE -> IDLE                 


    Summary                       Bins      Hits    Misses  Coverage
    -------                       ----      ----    ------  --------
        FSM States                   5         5         0   100.00%
        FSM Transitions              8         8         0   100.00%
Statement Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Statements                      64        64         0   100.00%

================================Statement Details================================

Statement Coverage for instance /Wrapper_tb/DUT/s1 --

    Line         Item                      Count     Source 
    ----         ----                      -----     ------ 
  File slave.v
    1                                                module slave(MOSI,SS_n,clk,rst_n,tx_valid,tx_data,rx_data,rx_valid,MISO);
    2                                                
    3                                                	input MOSI,SS_n,clk,rst_n,tx_valid;
    4                                                	input [7:0] tx_data;
    5                                                	output reg [9:0] rx_data;
    6                                                	output reg rx_valid;
    7                                                	output reg MISO;
    8                                                
    9                                                	parameter IDLE = 3'b000;
    10                                               	parameter READ_DATA = 3'b001;
    11                                               	parameter READ_ADD = 3'b010;
    12                                               	parameter CHK_CMD = 3'b011;
    13                                               	parameter WRITE = 3'b100;
    14                                               	reg [2:0] cs,ns;
    15                                               	reg start_to_give,start_to_take;
    16                                               	reg [7:0] temp;
    17                                               	reg rd_addr_received;
    18                                               	reg [5:0] i;
    19                                               	reg [5:0] j;
    20              1                     300103     	always@(posedge clk or negedge rst_n)	begin
    21                                               		if(~rst_n)	begin
    22              1                       3725     			cs <= IDLE ;
    23                                               		end
    24                                               		else	begin
    25              1                     296378     			cs <= ns ;
    26                                               		end
    27                                               	end
    28                                               	//Next state logic
    29              1                     594396     	always@(cs,SS_n,MOSI)	begin
    30                                               		case(cs)
    31                                               			IDLE:
    32                                               				if(SS_n)		begin
    33              1                      61543     					ns <= IDLE ;
    34                                               				end
    35                                               				else	begin
    36              1                      63404     					ns <= CHK_CMD ;
    37                                               				end
    38                                               			READ_DATA:
    39                                               				if(~SS_n)	begin
    40              1                      67438     					ns <= READ_DATA ;
    41                                               				end
    42                                               				else	begin
    43              1                      14141     					ns <= IDLE ;
    44                                               				end
    45                                               			READ_ADD:
    46                                               				if(~SS_n)	begin
    47              1                      81234     					ns <= READ_ADD ;
    48                                               				end
    49                                               				else	begin
    50              1                      14110     					ns <= IDLE ;
    51                                               				end
    52                                               			CHK_CMD:
    53                                               				if( (~SS_n) && (MOSI == 1) && rd_addr_received )	begin
    54              1                      17826     					ns <= READ_DATA ;
    55                                               				end
    56                                               				else if( (~SS_n) && (MOSI == 1) )	begin
    57              1                      27928     					ns <= READ_ADD ;
    58                                               				end
    59                                               				else if ( (~SS_n) && (MOSI == 0) )	begin
    60              1                      47425     					ns <= WRITE ;
    61                                               				end
    62                                               				else if (SS_n)	begin
    63              1                       1033     					ns <= IDLE ;
    64                                               				end
    65                                               			WRITE:
    66                                               				if(~SS_n)	begin
    67              1                     166674     					ns <= WRITE ;
    68                                               				end
    69                                               				else	begin
    70              1                      31638     					ns <= IDLE ;
    71                                               				end
    72                                               
    73              1                          1     			default: ns <= IDLE;
    74                                               		endcase
    75                                               	end
    76                                               
    77              1                      14541     	always@ (posedge tx_valid or negedge rst_n)begin
    78                                               		if (!rst_n) begin
    79              1                       1859     			start_to_take <=0;
    80              1                       1859     			temp <= 0;
    81                                               		end
    82                                               		else begin
    83              1                      12682     			start_to_take <=1;
    84              1                      12682     			temp <= tx_data;
    85                                               		end
    86                                               	end
    87                                               
    88              1                     906961     	always@(posedge clk)	begin
    89                                               		if (!rst_n) begin
    90              1                       1897     			MISO<=0;
    91              1                       1897     		    i <= 0 ;
    92              1                       1897     			j <= 7;
    93              1                       1897     			rx_data <= 0;
    94              1                       1897     			rx_valid <= 0;
    95                                               		end
    96                                               		else begin 
    97                                               			case (cs)
    98                                               		    	IDLE:begin
    99                                               		    		if (!start_to_take) begin
    100             1                     114960     						MISO<=0;
    101             1                     114960     						j <= 7;
    102                                              					end
    103             1                     216416     		    		i <= 0 ;
    104             1                     216416     					rx_data <= 0;
    105             1                     216416     					rx_valid <= 0;
    106                                              		    	end
    107                                              		    	CHK_CMD:begin
    108             1                      62206     		    	    start_to_give <= 1;
    109             1                      62206     		    	    i <= 0 ;
    110                                              		   		end
    111                                              			    WRITE:begin
    112                                              			    	if (start_to_give ==1)	begin
    113             1                     302823     						rx_data <= {rx_data[8:0],MOSI};
    114                                              						if (i==9) begin
    115             1                      28850     							i<=0;
    116             1                      28850     							start_to_give <= 0;
    117                                              							if ( (rx_data[8]==1'b0) && (!SS_n)) begin
    118             1                      28699     								rx_valid <=1;
    119                                              							end
    120                                              						end
    121                                              						else  begin
    122             1                     273973     							i <= i + 1 ;
    123             1                     273973     							rx_valid <= 0;
    124                                              						end
    125                                              					end
    126                                              					else begin
    127             1                      28699     						rx_valid <=0;
    128                                              					end
    129                                              		    	end
    130                                              	    		READ_ADD:begin
    131                                              	    			if (start_to_give ==1)	begin
    132             1                     134664     						rx_data <= {rx_data[8:0],MOSI};
    133                                              						if (i==9) begin
    134             1                      12782     							i<=0;
    135             1                      12782     							start_to_give <= 0;
    136                                              							if ( (rx_data[8:7]==2'b10) && (!SS_n) ) begin
    137             1                      12683     								rx_valid <=1;
    138             1                      12683     								rd_addr_received<=1;
    139                                              							end
    140                                              						end
    141                                              						else  begin
    142             1                     121882     							i <= i + 1 ;
    143             1                     121882     							rx_valid <= 0;
    144                                              						end
    145                                              					end
    146                                              					else begin
    147             1                      12683     						rx_valid <=0;
    148                                              					end
    149                                              	   	 		end
    150                                              	    		READ_DATA:begin
    151                                              	    			if (start_to_give ==1)	begin
    152             1                     134891     						rx_data <= {rx_data[8:0],MOSI};
    153                                              						if (i==9) begin
    154             1                      12768     							i<=0;
    155             1                      12768     							start_to_give <= 0;
    156                                              							if ( (rx_data[8:7]==2'b11) && (!SS_n) ) begin
    157             1                      12682     								rx_valid <=1;
    158             1                      12682     								rd_addr_received<=0;
    159                                              							end
    160                                              						end
    161                                              						else  begin
    162             1                     122123     							i <= i + 1 ;
    163             1                     122123     							rx_valid <= 0;
    164                                              						end
    165                                              					end
    166                                              					else begin
    167             1                      12682     						rx_valid <=0;
    168                                              					end
    169                                              	    		end
    170                                              			endcase
    171                                              		end
    172                                              	end
    173                                              
    174             1                     120944     	always @(posedge clk)	begin
    175                                              		if (start_to_take==1) begin
    176             1                     101456     			MISO <= temp[7];
    177             1                     101456     			temp <= {temp[6:0],1'b0};
    178                                              			if (j == 0)	begin
    179             1                      12682     				start_to_take <= 0 ;
    180             1                      12682     				j <= 7;
    181                                              			end
    182                                              			else begin
    183             1                      88774     				j <= j - 1 ;

Toggle Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Toggles                        108        98        10    90.74%

================================Toggle Details================================

Toggle Coverage for instance /Wrapper_tb/DUT/s1 --

                                              Node      1H->0L      0L->1H  "Coverage"
                                              ---------------------------------------
                                              MISO           1           1      100.00 
                                              MOSI           1           1      100.00 
                                              SS_n           1           1      100.00 
                                               clk           1           1      100.00 
                                           cs[2-0]           1           1      100.00 
                                            i[5-4]           0           0        0.00 
                                            i[3-0]           1           1      100.00 
                                            j[5-3]           0           0        0.00 
                                            j[2-0]           1           1      100.00 
                                           ns[2-0]           1           1      100.00 
                                  rd_addr_received           1           1      100.00 
                                             rst_n           1           1      100.00 
                                      rx_data[9-0]           1           1      100.00 
                                          rx_valid           1           1      100.00 
                                     start_to_give           1           1      100.00 
                                     start_to_take           1           1      100.00 
                                         temp[7-0]           1           1      100.00 
                                      tx_data[0-7]           1           1      100.00 
                                          tx_valid           1           1      100.00 

Total Node Count     =         54 
Toggled Node Count   =         49 
Untoggled Node Count =          5 

Toggle Coverage      =      90.74% (98 of 108 bins)

=================================================================================
=== Instance: /Wrapper_tb/DUT/r1
=== Design Unit: work.ram
=================================================================================

Assertion Coverage:
    Assertions                       2         0         2     0.00%
--------------------------------------------------------------------
Name                 File(Line)                   Failure      Pass 
                                                  Count        Count
--------------------------------------------------------------------
/Wrapper_tb/DUT/r1/Assrt1
                     ram.sv(24)                         0          0
/Wrapper_tb/DUT/r1/Assrt2
                     ram.sv(25)                         0          0
Branch Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Branches                         8         7         1    87.50%

================================Branch Details================================

Branch Coverage for instance /Wrapper_tb/DUT/r1

    Line         Item                      Count     Source 
    ----         ----                      -----     ------ 
  File ram.sv
------------------------------------IF Branch------------------------------------
    29                                    626274     Count coming in to IF
    29              1                       3743     		if(~rst_n) begin
    33              1                      54064     		else if(rx_valid) begin
    53              1                     568467     		else 
Branch totals: 3 hits of 3 branches = 100.00%

------------------------------------CASE Branch------------------------------------
    34                                     54064     Count coming in to CASE
    35              1                      14358     				2'b00: begin
    39              1                      14341     				2'b01: begin
    43              1                      12683     				2'b10: begin
    47              1                      12682     				2'b11: begin
                                         ***0***     All False Count
Branch totals: 4 hits of 5 branches = 80.00%


Statement Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Statements                      12        12         0   100.00%

================================Statement Details================================

Statement Coverage for instance /Wrapper_tb/DUT/r1 --

    Line         Item                      Count     Source 
    ----         ----                      -----     ------ 
  File ram.sv
    1                                                module ram (din,clk,rst_n,rx_valid,dout,tx_valid);
    2                                                	parameter MEM_DEPTH = 256;
    3                                                	parameter ADDR_SIZE = 8;
    4                                                
    5                                                	input [9:0] din;
    6                                                	input clk, rst_n , rx_valid;
    7                                                	output reg [7:0] dout;
    8                                                	output reg tx_valid;
    9                                                
    10                                               	reg [ADDR_SIZE-1:0] write_addr, read_addr;
    11                                               	
    12                                               	reg [ADDR_SIZE-1:0] mem [MEM_DEPTH-1:0];
    13                                               
    14                                               	property write_addr_SVA ;
    15                                               		logic [7:0] addr_exp;
    16                                               		@(posedge clk) disable iff(!rst_n || !rx_valid) (din[9:8] == 2'b00, addr_exp=din[7:0]) |=> (write_addr == addr_exp);
    17                                               	endproperty
    18                                               
    19                                               	property read_addr_SVA ;
    20                                               		logic [7:0] addr_exp;
    21                                               		@(posedge clk) disable iff(!rst_n || !rx_valid) (din[9:8] == 2'b10, addr_exp=din[7:0]) |=> (read_addr == addr_exp);
    22                                               	endproperty
    23                                               
    24                                               	Assrt1 : assert property (write_addr_SVA);
    25                                               	Assrt2 : assert property (read_addr_SVA);
    26                                               
    27                                               
    28              1                     626274     	always @(posedge clk,negedge rst_n) begin
    29                                               		if(~rst_n) begin
    30              1                       3743     			dout<='b0;
    31              1                       3743     			tx_valid<='b0;
    32                                               		end
    33                                               		else if(rx_valid) begin
    34                                               			case (din[9:8])
    35                                               				2'b00: begin
    36              1                      14358     					write_addr <= din[7:0];
    37              1                      14358     					tx_valid <=0;
    38                                               				end
    39                                               				2'b01: begin
    40              1                      14341     					mem [write_addr] <= din[7:0];
    41              1                      14341     					tx_valid <=0;
    42                                               				end	
    43                                               				2'b10: begin
    44              1                      12683     					read_addr <= din[7:0];
    45              1                      12683     					tx_valid <=0;
    46                                               				end
    47                                               				2'b11: begin
    48              1                      12682     					dout <= mem[read_addr];
    49              1                      12682     					tx_valid <=1;
    50                                               				end
    51                                               			endcase
    52                                               		end
    53                                               		else 
    54              1                     568467     			tx_valid =0;

Toggle Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Toggles                         76        76         0   100.00%

================================Toggle Details================================

Toggle Coverage for instance /Wrapper_tb/DUT/r1 --

                                              Node      1H->0L      0L->1H  "Coverage"
                                              ---------------------------------------
                                               clk           1           1      100.00 
                                          din[0-9]           1           1      100.00 
                                         dout[7-0]           1           1      100.00 
                                    read_addr[7-0]           1           1      100.00 
                                             rst_n           1           1      100.00 
                                          rx_valid           1           1      100.00 
                                          tx_valid           1           1      100.00 
                                   write_addr[7-0]           1           1      100.00 

Total Node Count     =         38 
Toggled Node Count   =         38 
Untoggled Node Count =          0 

Toggle Coverage      =     100.00% (76 of 76 bins)

=================================================================================
=== Instance: /Wrapper_tb/DUT/check_asserts
=== Design Unit: work.SPI_Asrts
=================================================================================

Assertion Coverage:
    Assertions                       5         5         0   100.00%
--------------------------------------------------------------------
Name                 File(Line)                   Failure      Pass 
                                                  Count        Count
--------------------------------------------------------------------
/Wrapper_tb/DUT/check_asserts/toCHK_CMD_sva
                     SPI_SVA.sv(32)                     0          1
/Wrapper_tb/DUT/check_asserts/toWRITE_sva
                     SPI_SVA.sv(33)                     0          1
/Wrapper_tb/DUT/check_asserts/toREAD_sva
                     SPI_SVA.sv(34)                     0          1
/Wrapper_tb/DUT/check_asserts/toIDLE_sva
                     SPI_SVA.sv(35)                     0          1
/Wrapper_tb/DUT/check_asserts/Reset_sva
                     SPI_SVA.sv(36)                     0          1

Directive Coverage:
    Directives                       5         5         0   100.00%

DIRECTIVE COVERAGE:
--------------------------------------------------------------------------------------------
Name                                     Design Design   Lang File(Line)      Hits Status    
                                         Unit   UnitType                                     
--------------------------------------------------------------------------------------------
/Wrapper_tb/DUT/check_asserts/toCHK_CMD_cp 
                                         SPI_Asrts Verilog  SVA  SPI_SVA.sv(38)  60662 Covered   
/Wrapper_tb/DUT/check_asserts/toWRITE_cp SPI_Asrts Verilog  SVA  SPI_SVA.sv(39)  31433 Covered   
/Wrapper_tb/DUT/check_asserts/toREAD_cp  SPI_Asrts Verilog  SVA  SPI_SVA.sv(40)  28135 Covered   
/Wrapper_tb/DUT/check_asserts/toIDLE_cp  SPI_Asrts Verilog  SVA  SPI_SVA.sv(41)  60757 Covered   
/Wrapper_tb/DUT/check_asserts/Reset_cp   SPI_Asrts Verilog  SVA  SPI_SVA.sv(42)  1903 Covered   
Toggle Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Toggles                         14        14         0   100.00%

================================Toggle Details================================

Toggle Coverage for instance /Wrapper_tb/DUT/check_asserts --

                                              Node      1H->0L      0L->1H  "Coverage"
                                              ---------------------------------------
                                              MOSI           1           1      100.00 
                                              SS_n           1           1      100.00 
                                               clk           1           1      100.00 
                                             rst_n           1           1      100.00 
                                     slave_cs[0-2]           1           1      100.00 

Total Node Count     =          7 
Toggled Node Count   =          7 
Untoggled Node Count =          0 

Toggle Coverage      =     100.00% (14 of 14 bins)

=================================================================================
=== Instance: /Wrapper_tb/DUT
=== Design Unit: work.SPI_Wrapper
=================================================================================
Toggle Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Toggles                         50        50         0   100.00%

================================Toggle Details================================

Toggle Coverage for instance /Wrapper_tb/DUT --

                                              Node      1H->0L      0L->1H  "Coverage"
                                              ---------------------------------------
                                              MISO           1           1      100.00 
                                              MOSI           1           1      100.00 
                                              SS_n           1           1      100.00 
                                               clk           1           1      100.00 
                                             rst_n           1           1      100.00 
                                     rx_data1[0-9]           1           1      100.00 
                                         rx_valid1           1           1      100.00 
                                     tx_data1[0-7]           1           1      100.00 
                                         tx_valid1           1           1      100.00 

Total Node Count     =         25 
Toggled Node Count   =         25 
Untoggled Node Count =          0 

Toggle Coverage      =     100.00% (50 of 50 bins)

=================================================================================
=== Instance: /Wrapper_tb/GoldenModel_memory
=== Design Unit: work.ram
=================================================================================

Assertion Coverage:
    Assertions                       2         0         2     0.00%
--------------------------------------------------------------------
Name                 File(Line)                   Failure      Pass 
                                                  Count        Count
--------------------------------------------------------------------
/Wrapper_tb/GoldenModel_memory/Assrt1
                     ram.sv(24)                         0          0
/Wrapper_tb/GoldenModel_memory/Assrt2
                     ram.sv(25)                         0          0
Branch Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Branches                         8         7         1    87.50%

================================Branch Details================================

Branch Coverage for instance /Wrapper_tb/GoldenModel_memory

    Line         Item                      Count     Source 
    ----         ----                      -----     ------ 
  File ram.sv
------------------------------------IF Branch------------------------------------
    29                                    126386     Count coming in to IF
    29              1                       3718     		if(~rst_n) begin
    33              1                      54064     		else if(rx_valid) begin
    53              1                      68604     		else 
Branch totals: 3 hits of 3 branches = 100.00%

------------------------------------CASE Branch------------------------------------
    34                                     54064     Count coming in to CASE
    35              1                      14358     				2'b00: begin
    39              1                      14341     				2'b01: begin
    43              1                      12683     				2'b10: begin
    47              1                      12682     				2'b11: begin
                                         ***0***     All False Count
Branch totals: 4 hits of 5 branches = 80.00%


Statement Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Statements                      12        12         0   100.00%

================================Statement Details================================

Statement Coverage for instance /Wrapper_tb/GoldenModel_memory --

    Line         Item                      Count     Source 
    ----         ----                      -----     ------ 
  File ram.sv
    1                                                module ram (din,clk,rst_n,rx_valid,dout,tx_valid);
    2                                                	parameter MEM_DEPTH = 256;
    3                                                	parameter ADDR_SIZE = 8;
    4                                                
    5                                                	input [9:0] din;
    6                                                	input clk, rst_n , rx_valid;
    7                                                	output reg [7:0] dout;
    8                                                	output reg tx_valid;
    9                                                
    10                                               	reg [ADDR_SIZE-1:0] write_addr, read_addr;
    11                                               	
    12                                               	reg [ADDR_SIZE-1:0] mem [MEM_DEPTH-1:0];
    13                                               
    14                                               	property write_addr_SVA ;
    15                                               		logic [7:0] addr_exp;
    16                                               		@(posedge clk) disable iff(!rst_n || !rx_valid) (din[9:8] == 2'b00, addr_exp=din[7:0]) |=> (write_addr == addr_exp);
    17                                               	endproperty
    18                                               
    19                                               	property read_addr_SVA ;
    20                                               		logic [7:0] addr_exp;
    21                                               		@(posedge clk) disable iff(!rst_n || !rx_valid) (din[9:8] == 2'b10, addr_exp=din[7:0]) |=> (read_addr == addr_exp);
    22                                               	endproperty
    23                                               
    24                                               	Assrt1 : assert property (write_addr_SVA);
    25                                               	Assrt2 : assert property (read_addr_SVA);
    26                                               
    27                                               
    28              1                     126386     	always @(posedge clk,negedge rst_n) begin
    29                                               		if(~rst_n) begin
    30              1                       3718     			dout<='b0;
    31              1                       3718     			tx_valid<='b0;
    32                                               		end
    33                                               		else if(rx_valid) begin
    34                                               			case (din[9:8])
    35                                               				2'b00: begin
    36              1                      14358     					write_addr <= din[7:0];
    37              1                      14358     					tx_valid <=0;
    38                                               				end
    39                                               				2'b01: begin
    40              1                      14341     					mem [write_addr] <= din[7:0];
    41              1                      14341     					tx_valid <=0;
    42                                               				end	
    43                                               				2'b10: begin
    44              1                      12683     					read_addr <= din[7:0];
    45              1                      12683     					tx_valid <=0;
    46                                               				end
    47                                               				2'b11: begin
    48              1                      12682     					dout <= mem[read_addr];
    49              1                      12682     					tx_valid <=1;
    50                                               				end
    51                                               			endcase
    52                                               		end
    53                                               		else 
    54              1                      68604     			tx_valid =0;

Toggle Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Toggles                         76        76         0   100.00%

================================Toggle Details================================

Toggle Coverage for instance /Wrapper_tb/GoldenModel_memory --

                                              Node      1H->0L      0L->1H  "Coverage"
                                              ---------------------------------------
                                               clk           1           1      100.00 
                                          din[0-9]           1           1      100.00 
                                         dout[7-0]           1           1      100.00 
                                    read_addr[7-0]           1           1      100.00 
                                             rst_n           1           1      100.00 
                                          rx_valid           1           1      100.00 
                                          tx_valid           1           1      100.00 
                                   write_addr[7-0]           1           1      100.00 

Total Node Count     =         38 
Toggled Node Count   =         38 
Untoggled Node Count =          0 

Toggle Coverage      =     100.00% (76 of 76 bins)

=================================================================================
=== Instance: /Wrapper_tb
=== Design Unit: work.Wrapper_tb
=================================================================================

Assertion Coverage:
    Assertions                       2         2         0   100.00%
--------------------------------------------------------------------
Name                 File(Line)                   Failure      Pass 
                                                  Count        Count
--------------------------------------------------------------------
/Wrapper_tb/#anonblk#124366370#87#4#/#ublk#124366370#87/immed__88
                     Wrapper_tb.sv(88)                  0          1
/Wrapper_tb/#anonblk#124366370#99#4#/#ublk#124366370#99/immed__100
                     Wrapper_tb.sv(100)                 0          1
Branch Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Branches                        17        14         3    82.35%

================================Branch Details================================

Branch Coverage for instance /Wrapper_tb

    Line         Item                      Count     Source 
    ----         ----                      -----     ------ 
  File Wrapper_tb.sv
------------------------------------IF Branch------------------------------------
    92                                     10000     Count coming in to IF
    92              1                       1686     		if (MOSI_sequence[10:8]==3'b111) begin
                                            8314     All False Count
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    104                                   100000     Count coming in to IF
    104             1                      90304     		if ((!SS_n) && (rst_n == 1)) begin
    132             1                       9696     		else begin
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    108                                    90304     Count coming in to IF
    108             1                       4064     			if (MOSI_seq_count == 12) begin
    128             1                      86240     			else begin
Branch totals: 2 hits of 2 branches = 100.00%

------------------------------------IF Branch------------------------------------
    109                                     4064     Count coming in to IF
    109             1                        996     				if ((MOSI_sequence[10:8] == 3'b111)&&(rd_addr_recieved)) begin
    118             1                        997     				else if ((MOSI_sequence[10:8] == 3'b110)&&(!rd_addr_recieved)) begin
    121             1                       2071     				else if (MOSI_sequence[10:9] == 2'b00) begin
                                         ***0***     All False Count
Branch totals: 3 hits of 4 branches = 75.00%

------------------------------------IF Branch------------------------------------
    146                                   240145     Count coming in to IF
    146             1                      12683     	if ( (DUT.s1.cs==READ_ADD) && (DUT.s1.rx_valid==1) ) begin
    149             1                      12682     	else if ( (DUT.s1.cs==READ_DATA) && (DUT.s1.rx_valid==1) ) begin
                                          214780     All False Count
Branch totals: 3 hits of 3 branches = 100.00%

------------------------------------IF Branch------------------------------------
    176                                        1     Count coming in to IF
    176             1                    ***0***     	if (MISO != 0) begin
    180             1                          1     	else begin
Branch totals: 1 hit of 2 branches = 50.00%

------------------------------------IF Branch------------------------------------
    216                                    12682     Count coming in to IF
    216             1                    ***0***     	if (MISO_saved_data != dout_GM) begin
    222             1                      12682     	else begin
Branch totals: 1 hit of 2 branches = 50.00%


Condition Coverage:
    Enabled Coverage              Bins   Covered    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Conditions                      14        10         4    71.42%

================================Condition Details================================

Condition Coverage for instance /Wrapper_tb --

  File Wrapper_tb.sv
----------------Focused Condition View-------------------
Line       92 Item    1  (MOSI_sequence[10:8] == 7)
Condition totals: 1 of 1 input term covered = 100.00%

                  Input Term   Covered  Reason for no coverage   Hint
                 -----------  --------  -----------------------  --------------
  (MOSI_sequence[10:8] == 7)         Y

     Rows:       Hits  FEC Target                    Non-masking condition(s)      
 ---------  ---------  --------------------          -------------------------     
  Row   1:          1  (MOSI_sequence[10:8] == 7)_0  -                             
  Row   2:          1  (MOSI_sequence[10:8] == 7)_1  -                             

----------------Focused Condition View-------------------
Line       104 Item    1  (~SS_n && rst_n)
Condition totals: 2 of 2 input terms covered = 100.00%

  Input Term   Covered  Reason for no coverage   Hint
 -----------  --------  -----------------------  --------------
        SS_n         Y
       rst_n         Y

     Rows:       Hits  FEC Target            Non-masking condition(s)      
 ---------  ---------  --------------------  -------------------------     
  Row   1:          1  SS_n_0                rst_n                         
  Row   2:          1  SS_n_1                -                             
  Row   3:          1  rst_n_0               ~SS_n                         
  Row   4:          1  rst_n_1               ~SS_n                         

----------------Focused Condition View-------------------
Line       108 Item    1  (MOSI_seq_count == 12)
Condition totals: 1 of 1 input term covered = 100.00%

              Input Term   Covered  Reason for no coverage   Hint
             -----------  --------  -----------------------  --------------
  (MOSI_seq_count == 12)         Y

     Rows:       Hits  FEC Target                Non-masking condition(s)      
 ---------  ---------  --------------------      -------------------------     
  Row   1:          1  (MOSI_seq_count == 12)_0  -                             
  Row   2:          1  (MOSI_seq_count == 12)_1  -                             

----------------Focused Condition View-------------------
Line       109 Item    1  ((MOSI_sequence[10:8] == 7) && rd_addr_recieved)
Condition totals: 1 of 2 input terms covered = 50.00%

                  Input Term   Covered  Reason for no coverage   Hint
                 -----------  --------  -----------------------  --------------
  (MOSI_sequence[10:8] == 7)         Y
            rd_addr_recieved         N  '_0' not hit             Hit '_0'

     Rows:       Hits  FEC Target                    Non-masking condition(s)      
 ---------  ---------  --------------------          -------------------------     
  Row   1:          1  (MOSI_sequence[10:8] == 7)_0  -                             
  Row   2:          1  (MOSI_sequence[10:8] == 7)_1  rd_addr_recieved              
  Row   3:    ***0***  rd_addr_recieved_0            (MOSI_sequence[10:8] == 7)    
  Row   4:          1  rd_addr_recieved_1            (MOSI_sequence[10:8] == 7)    

----------------Focused Condition View-------------------
Line       118 Item    1  ((MOSI_sequence[10:8] == 6) && ~rd_addr_recieved)
Condition totals: 1 of 2 input terms covered = 50.00%

                  Input Term   Covered  Reason for no coverage   Hint
                 -----------  --------  -----------------------  --------------
  (MOSI_sequence[10:8] == 6)         Y
            rd_addr_recieved         N  '_1' not hit             Hit '_1'

     Rows:       Hits  FEC Target                    Non-masking condition(s)      
 ---------  ---------  --------------------          -------------------------     
  Row   1:          1  (MOSI_sequence[10:8] == 6)_0  -                             
  Row   2:          1  (MOSI_sequence[10:8] == 6)_1  ~rd_addr_recieved             
  Row   3:          1  rd_addr_recieved_0            (MOSI_sequence[10:8] == 6)    
  Row   4:    ***0***  rd_addr_recieved_1            (MOSI_sequence[10:8] == 6)    

----------------Focused Condition View-------------------
Line       121 Item    1  (MOSI_sequence[10:9] == 0)
Condition totals: 0 of 1 input term covered = 0.00%

                  Input Term   Covered  Reason for no coverage   Hint
                 -----------  --------  -----------------------  --------------
  (MOSI_sequence[10:9] == 0)         N  '_0' not hit             Hit '_0'

     Rows:       Hits  FEC Target                    Non-masking condition(s)      
 ---------  ---------  --------------------          -------------------------     
  Row   1:    ***0***  (MOSI_sequence[10:9] == 0)_0  -                             
  Row   2:          1  (MOSI_sequence[10:9] == 0)_1  -                             

----------------Focused Condition View-------------------
Line       146 Item    1  ((DUT.s1.cs == 2) && DUT.s1.rx_valid)
Condition totals: 2 of 2 input terms covered = 100.00%

        Input Term   Covered  Reason for no coverage   Hint
       -----------  --------  -----------------------  --------------
  (DUT.s1.cs == 2)         Y
   DUT.s1.rx_valid         Y

     Rows:       Hits  FEC Target            Non-masking condition(s)      
 ---------  ---------  --------------------  -------------------------     
  Row   1:          1  (DUT.s1.cs == 2)_0    -                             
  Row   2:          1  (DUT.s1.cs == 2)_1    DUT.s1.rx_valid               
  Row   3:          1  DUT.s1.rx_valid_0     (DUT.s1.cs == 2)              
  Row   4:          1  DUT.s1.rx_valid_1     (DUT.s1.cs == 2)              

----------------Focused Condition View-------------------
Line       149 Item    1  ((DUT.s1.cs == 1) && DUT.s1.rx_valid)
Condition totals: 2 of 2 input terms covered = 100.00%

        Input Term   Covered  Reason for no coverage   Hint
       -----------  --------  -----------------------  --------------
  (DUT.s1.cs == 1)         Y
   DUT.s1.rx_valid         Y

     Rows:       Hits  FEC Target            Non-masking condition(s)      
 ---------  ---------  --------------------  -------------------------     
  Row   1:          1  (DUT.s1.cs == 1)_0    -                             
  Row   2:          1  (DUT.s1.cs == 1)_1    DUT.s1.rx_valid               
  Row   3:          1  DUT.s1.rx_valid_0     (DUT.s1.cs == 1)              
  Row   4:          1  DUT.s1.rx_valid_1     (DUT.s1.cs == 1)              

----------------Focused Condition View-------------------
Line       216 Item    1  (MISO_saved_data != dout_GM)
Condition totals: 0 of 1 input term covered = 0.00%

                    Input Term   Covered  Reason for no coverage   Hint
                   -----------  --------  -----------------------  --------------
  (MISO_saved_data != dout_GM)         N  '_1' not hit             Hit '_1'

     Rows:       Hits  FEC Target                      Non-masking condition(s)      
 ---------  ---------  --------------------            -------------------------     
  Row   1:          1  (MISO_saved_data != dout_GM)_0  -                             
  Row   2:    ***0***  (MISO_saved_data != dout_GM)_1  -                             


Statement Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Statements                     111       105         6    94.59%

================================Statement Details================================

Statement Coverage for instance /Wrapper_tb --

    Line         Item                      Count     Source 
    ----         ----                      -----     ------ 
  File Wrapper_tb.sv
    5                                                module Wrapper_tb ();
    6                                                
    7                                                logic MOSI, clk, rst_n, SS_n;
    8                                                logic MISO;
    9                                                
    10                                               logic [7:0] MISO_saved_data;
    11                                               bit rd_addr_recieved;
    12                                               
    13                                               logic [10:0] MOSI_sequence;
    14                                               int MOSI_seq_count = 0;
    15                                               
    16                                               logic rx_valid;
    17                                               logic [9:0] din_GM;
    18                                               logic [7:0] dout_GM;
    19                                               logic tx_valid;
    20                                               
    21                                               logic [7:0]   address_array          [];
    22                                               logic [7:0]   data_to_write_array    [];
    23                                               logic [10:0]  MOSI_sequence_array    [];
    24                                               
    25                                               int correct_count = 0;
    26                                               int error_count   = 0;
    27                                               
    28                                               
    29                                               SPI_Wrapper DUT (MOSI,MISO,SS_n,clk,rst_n);
    30                                               ram GoldenModel_memory (din_GM,clk,rst_n,rx_valid,dout_GM,tx_valid);
    31                                               bind SPI_Wrapper SPI_Asrts check_asserts (clk, MOSI, SS_n, rst_n, DUT.s1.cs);
    32                                               
    33              1                          1     spiclass MyInputs = new;
    34                                               
    35                                               // clock generation
    36                                               initial begin
    37              1                          1     	clk = 0;
    38              1                          1     	forever begin
    39              1                    1817019     		#2;  
    40              1                    1817018     		clk = ~clk;
    41              1                    1817018     		MyInputs.clk = clk;
    42                                               	end
    43                                               end
    44                                               
    45                                               //Initial block for coverage sampling
    46                                               initial begin
    47              1                          1     	forever begin
    48              1                     908510     		@(negedge clk);
    49              1                     908509     		#1;  
    50              1                     908509     		MyInputs.SS_n_cv          = SS_n;
    51              1                     908509     		MyInputs.rst_n            = rst_n;
    52              1                     908509     		MyInputs.MOSI_cv          = MOSI;
    53              1                     908509     		MyInputs.slave_state_cv   = DUT.s1.cs;
    54              1                     908509     		MyInputs.read_address_occ = rd_addr_recieved;
    55              1                     908509     		MyInputs.MOSI_count       = MOSI_seq_count; 
    56                                               	end
    57                                               end
    58                                               
    59                                               initial begin
    60              1                          1     	$readmemh ("mem.dat",DUT.r1.mem);
    61              1                          1     	$readmemh ("mem.dat",GoldenModel_memory.mem);
    62              1                          1     	rx_valid=0 ; din_GM=0; 
    62              2                          1     
    63              1                          1     	SS_n = 1;
    64              1                          1     	rst_check ();      // Checking reset
    65              1                          1     	stimulus_gen();    // Generating addresses and data to write
    66                                               
    67                                               	// 1st loop to write data in the dut and the golden model
    68              1                          1     	for (int i = 0; i < 2*TESTS; i++) begin
    68              2                      20000     
    69              1                      20000     		MOSI_sequence = MOSI_sequence_array[i];
    70              1                      20000     		din_pass_to_GM ();
    71              1                      20000     		MOSI_pass_to_DUT ();
    72                                               	end
    73                                               
    74                                               	// 2nd loop to read and check
    75              1                          1     	for (int i = 0; i < TESTS; i++) begin
    75              2                      10000     
    76              1                      10000     		MOSI_sequence = {3'b110, address_array[i]};
    77              1                      10000     		din_pass_to_GM ();
    78              1                      10000     		MOSI_pass_to_DUT ();
    79              1                      10000     		MOSI_sequence = {3'b111, data_to_write_array[i]}; // Least 8 bits can be anything as they are ignored 
    80              1                      10000     		din_pass_to_GM ();
    81              1                      10000     		MOSI_pass_to_DUT ();
    82              1                      10000     		MISO_Save ();
    83              1                      10000     		MISO_Check ();
    84                                               	end
    85                                               
    86                                               	// Third loop (Randomized sequence)
    87              1                          1     	for (int i = 0; i < TESTS; i++) begin
    87              2                      10000     
    88                                               		assert (MyInputs.randomize());
    89              1                      10000     		MOSI_sequence = MyInputs.MOSI_sequence;
    90              1                      10000     		din_pass_to_GM ();
    91              1                      10000     		MOSI_pass_to_DUT ();
    92                                               		if (MOSI_sequence[10:8]==3'b111) begin
    93              1                       1686     			MISO_Save ();
    94              1                       1686     			MISO_Check ();
    95                                               		end
    96                                               	end
    97                                               
    98                                               	// Fourth loop full randomization under constrains
    99              1                          1     	for (int i = 0; i < 10*TESTS; i++) begin
    99              2                     100000     
    100                                              		assert (MyInputs.randomize());
    101             1                     100000     		MOSI  = MyInputs.MOSI_cv;
    102             1                     100000     		rst_n = MyInputs.rst_n;
    103             1                     100000     		SS_n  = MyInputs.SS_n;
    104                                              		if ((!SS_n) && (rst_n == 1)) begin
    105             1                      90304     			MOSI_sequence ={MOSI_sequence[9:0], MOSI};
    106             1                      90304     			MOSI_seq_count = MOSI_seq_count + 1;
    107                                              
    108                                              			if (MOSI_seq_count == 12) begin
    109                                              				if ((MOSI_sequence[10:8] == 3'b111)&&(rd_addr_recieved)) begin
    110             1                        996     					@(negedge clk);
    111             1                        996     					SS_n=1;
    112             1                        996     					@(negedge clk);
    113             1                        996     					MISO_Save ();
    114             1                        996     					din_pass_to_GM ();
    115             1                        996     					@(negedge clk);
    116             1                        996     					MISO_Check ();
    117                                              				end
    118                                              				else if ((MOSI_sequence[10:8] == 3'b110)&&(!rd_addr_recieved)) begin
    119             1                        997     					din_pass_to_GM ();
    120                                              				end
    121                                              				else if (MOSI_sequence[10:9] == 2'b00) begin
    122             1                       2071     					din_pass_to_GM ();
    123                                              				end
    124             1                       4064     				SS_n = 1;
    125             1                       4064     				MOSI_seq_count = 0;
    126             1                       4064     				@(negedge clk);
    127                                              			end
    128                                              			else begin
    129             1                      86240     				@(negedge clk);
    130                                              			end
    131                                              		end
    132                                              		else begin
    133             1                       9696     			MOSI_seq_count = 0;
    134             1                       9696     			MOSI_sequence = 0;
    135             1                       9696     			@(negedge clk);
    136                                              		end
    137                                              	end
    138                                              
    139             1                          1     	$display("After test, Correct cases = %d ; Wrong cases = %d", correct_count, error_count);
    140             1                          1     	#1;
    141             1                          1     	$stop;
    142                                              end
    143                                              
    144                                              //always block to check if read address sent
    145             1                     240145     always @(negedge clk) begin
    146                                              	if ( (DUT.s1.cs==READ_ADD) && (DUT.s1.rx_valid==1) ) begin
    147             1                      12683     		rd_addr_recieved = 1;
    148                                              	end
    149                                              	else if ( (DUT.s1.cs==READ_DATA) && (DUT.s1.rx_valid==1) ) begin
    150             1                      12682     		rd_addr_recieved = 0;
    151                                              	end
    152                                              end
    153                                              
    154                                              // Task to ganerate writes for the first loop
    155                                              task stimulus_gen();
    156             1                          1     	address_array        = new[TESTS];
    157             1                          1     	data_to_write_array  = new[TESTS];
    158             1                          1     	MOSI_sequence_array  = new[2*TESTS];
    159                                              	
    160             1                          1     	for (int i = 0; i < TESTS; i++) begin
    160             2                      10000     
    161             1                      10000     		address_array[i]       = $random;
    162             1                      10000     		data_to_write_array[i] = $random;
    163                                              	end
    164                                              
    165             1                          1     	for (int i = 0; i < 2*TESTS; i = i + 2) begin
    165             2                      10000     
    166             1                      10000     		MOSI_sequence_array [i]   = {3'b000, address_array[(i/2)]};
    167             1                      10000     		MOSI_sequence_array [i+1] = {3'b001, data_to_write_array[(i/2)]};
    168                                              	end
    169                                              endtask : stimulus_gen
    170                                              
    171                                              // Reset Task
    172                                              task rst_check ();
    173             1                          1     	rst_n = 0;
    174             1                          1     	@(negedge clk);
    175                                              
    176                                              	if (MISO != 0) begin
    177             1                    ***0***     		$display("%t : Error - Reset output incorrect", $time());
    178             1                    ***0***     		error_count = error_count + 1;
    179                                              	end
    180                                              	else begin
    181             1                          1     		correct_count = correct_count + 1;
    182                                              	end
    183                                              
    184             1                          1     	rst_n = 1;
    185                                              endtask : rst_check 
    186                                              
    187                                              // Task to send the sequence to the Wrapper
    188                                              task MOSI_pass_to_DUT ();
    189             1                      50000     	SS_n = 0;
    190             1                      50000     	@(negedge clk);
    191             1                      50000     	for (int i = 0; i < 11; i++) begin
    191             2                     550000     
    192             1                     550000     		MOSI = MOSI_sequence[10-i];
    193             1                     550000     		@(negedge clk);
    194                                              	end
    195             1                      50000     	SS_n = 1;
    196             1                      50000     	@(negedge clk);
    197                                              endtask : MOSI_pass_to_DUT
    198                                              
    199                                              // Task to send the data to the godlenmodel
    200                                              task din_pass_to_GM ();
    201             1                      54064     	rx_valid = 1;
    202             1                      54064     	din_GM = MOSI_sequence[9:0];
    203             1                      54064     	@(negedge clk);
    204             1                      54064     	rx_valid=0;
    205                                              endtask : din_pass_to_GM 
    206                                              
    207                                              // Task to save MISO serial data into register to compare with goldenmodel
    208                                              task MISO_Save ();
    209             1                      12682     	for (int i = 0; i < 8; i++) begin
    209             2                     101456     
    210             1                     101456     		@(negedge clk);
    211             1                     101456     		MISO_saved_data [7-i] = MISO;
    212                                              	end
    213                                              endtask : MISO_Save 
    214                                              
    215                                              task MISO_Check ();
    216                                              	if (MISO_saved_data != dout_GM) begin
    217             1                    ***0***     		$display("%t : Error - MISO output incorrect", $time());
    218             1                    ***0***     		$display("expected   : %b",dout_GM);
    219             1                    ***0***     		$display("MISO taken : %b",MISO_saved_data);
    220             1                    ***0***     		error_count = error_count + 1;
    221                                              	end
    222                                              	else begin
    223             1                      12682     		correct_count = correct_count + 1;

Toggle Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Toggles                        282       125       157    44.32%

================================Toggle Details================================

Toggle Coverage for instance /Wrapper_tb --

                                              Node      1H->0L      0L->1H  "Coverage"
                                              ---------------------------------------
                                              MISO           1           1      100.00 
                              MISO_saved_data[0-7]           1           1      100.00 
                                              MOSI           1           1      100.00 
                               MOSI_seq_count[0-3]           1           1      100.00 
                              MOSI_seq_count[4-31]           0           0        0.00 
                               MOSI_sequence[0-10]           1           1      100.00 
                                              SS_n           1           1      100.00 
                                               clk           1           1      100.00 
                               correct_count[0-12]           1           1      100.00 
                                 correct_count[13]           0           1       50.00 
                              correct_count[14-31]           0           0        0.00 
                                       din_GM[0-9]           1           1      100.00 
                                      dout_GM[0-7]           1           1      100.00 
                                 error_count[0-31]           0           0        0.00 
                                  rd_addr_recieved           1           1      100.00 
                                             rst_n           1           1      100.00 
                                          rx_valid           1           1      100.00 
                                          tx_valid           1           1      100.00 

Total Node Count     =        141 
Toggled Node Count   =         62 
Untoggled Node Count =         79 

Toggle Coverage      =      44.32% (125 of 282 bins)

=================================================================================
=== Instance: /spi_pkg
=== Design Unit: work.spi_pkg
=================================================================================
Branch Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Branches                         3         3         0   100.00%

================================Branch Details================================

Branch Coverage for instance /spi_pkg

    Line         Item                      Count     Source 
    ----         ----                      -----     ------ 
  File SPI_pkg.sv
------------------------------------IF Branch------------------------------------
    50                                    110000     Count coming in to IF
    50              1                      11412                 if (MOSI_count==1 && !SS_n) begin
    53              1                      10271                 else if (MOSI_count==2 && !SS_n) begin
                                           88317     All False Count
Branch totals: 3 hits of 3 branches = 100.00%


Condition Coverage:
    Enabled Coverage              Bins   Covered    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Conditions                       4         4         0   100.00%

================================Condition Details================================

Condition Coverage for instance /spi_pkg --

  File SPI_pkg.sv
----------------Focused Condition View-------------------
Line       50 Item    1  ((this.MOSI_count == 1) && ~this.SS_n)
Condition totals: 2 of 2 input terms covered = 100.00%

              Input Term   Covered  Reason for no coverage   Hint
             -----------  --------  -----------------------  --------------
  (this.MOSI_count == 1)         Y
               this.SS_n         Y

     Rows:       Hits  FEC Target                Non-masking condition(s)      
 ---------  ---------  --------------------      -------------------------     
  Row   1:          1  (this.MOSI_count == 1)_0  -                             
  Row   2:          1  (this.MOSI_count == 1)_1  ~this.SS_n                    
  Row   3:          1  this.SS_n_0               (this.MOSI_count == 1)        
  Row   4:          1  this.SS_n_1               (this.MOSI_count == 1)        

----------------Focused Condition View-------------------
Line       53 Item    1  ((this.MOSI_count == 2) && ~this.SS_n)
Condition totals: 2 of 2 input terms covered = 100.00%

              Input Term   Covered  Reason for no coverage   Hint
             -----------  --------  -----------------------  --------------
  (this.MOSI_count == 2)         Y
               this.SS_n         Y

     Rows:       Hits  FEC Target                Non-masking condition(s)      
 ---------  ---------  --------------------      -------------------------     
  Row   1:          1  (this.MOSI_count == 2)_0  -                             
  Row   2:          1  (this.MOSI_count == 2)_1  ~this.SS_n                    
  Row   3:          1  this.SS_n_0               (this.MOSI_count == 2)        
  Row   4:          1  this.SS_n_1               (this.MOSI_count == 2)        



Covergroup Coverage:
    Covergroups                      1        na        na   100.00%
        Coverpoints/Crosses          6        na        na        na
            Covergroup Bins         41        41         0   100.00%
----------------------------------------------------------------------------------------------------------
Covergroup                                             Metric       Goal       Bins    Status               
                                                                                                         
----------------------------------------------------------------------------------------------------------
 TYPE /spi_pkg/spiclass/cvr_gp                        100.00%        100          -    Covered              
    covered/total bins:                                    41         41          -                      
    missing/total bins:                                     0         41          -                      
    % Hit:                                            100.00%        100          -                      
    Coverpoint cs_cp                                  100.00%        100          -    Covered              
        covered/total bins:                                13         13          -                      
        missing/total bins:                                 0         13          -                      
        % Hit:                                        100.00%        100          -                      
    Coverpoint MOSI_cp                                100.00%        100          -    Covered              
        covered/total bins:                                 2          2          -                      
        missing/total bins:                                 0          2          -                      
        % Hit:                                        100.00%        100          -                      
    Coverpoint SS_n_cp                                100.00%        100          -    Covered              
        covered/total bins:                                 2          2          -                      
        missing/total bins:                                 0          2          -                      
        % Hit:                                        100.00%        100          -                      
    Cross MOSI_cross_cs                               100.00%        100          -    Covered              
        covered/total bins:                                10         10          -                      
        missing/total bins:                                 0         10          -                      
        % Hit:                                        100.00%        100          -                      
    Cross SS_n_cross_cs                               100.00%        100          -    Covered              
        covered/total bins:                                10         10          -                      
        missing/total bins:                                 0         10          -                      
        % Hit:                                        100.00%        100          -                      
    Cross MOSI_cross_SS_n                             100.00%        100          -    Covered              
        covered/total bins:                                 4          4          -                      
        missing/total bins:                                 0          4          -                      
        % Hit:                                        100.00%        100          -                      
 Covergroup instance \/spi_pkg::spiclass::cvr_gp      100.00%        100          -    Covered              
    covered/total bins:                                    41         41          -                      
    missing/total bins:                                     0         41          -                      
    % Hit:                                            100.00%        100          -                      
    Coverpoint cs_cp                                  100.00%        100          -    Covered              
        covered/total bins:                                13         13          -                      
        missing/total bins:                                 0         13          -                      
        % Hit:                                        100.00%        100          -                      
        bin IDLE_to_CHK_CMD                             62206          1          -    Covered              
        bin CHK_CMD_to_WRITE                            32157          1          -    Covered              
        bin CHK_CMD_to_READ_DATA                        14418          1          -    Covered              
        bin CHK_CMD_to_READ_ADD                         14389          1          -    Covered              
        bin CHK_CMD_to_IDLE                              1242          1          -    Covered              
        bin WRITE_to_IDLE                               32157          1          -    Covered              
        bin READ_DATA_to_IDLE                           14418          1          -    Covered              
        bin READ_ADD_to_IDLE                            14389          1          -    Covered              
        bin IDLE_state                                 219860          1          -    Covered              
        bin CHK_CMD_state                               62206          1          -    Covered              
        bin WRITE_state                                331522          1          -    Covered              
        bin READ_ADD_state                             147347          1          -    Covered              
        bin READ_DATA_state                            147573          1          -    Covered              
    Coverpoint MOSI_cp                                100.00%        100          -    Covered              
        covered/total bins:                                 2          2          -                      
        missing/total bins:                                 0          2          -                      
        % Hit:                                        100.00%        100          -                      
        bin auto[0]                                    458446          1          -    Covered              
        bin auto[1]                                    450060          1          -    Covered              
    Coverpoint SS_n_cp                                100.00%        100          -    Covered              
        covered/total bins:                                 2          2          -                      
        missing/total bins:                                 0          2          -                      
        % Hit:                                        100.00%        100          -                      
        bin auto[0]                                    692057          1          -    Covered              
        bin auto[1]                                    216451          1          -    Covered              
    Cross MOSI_cross_cs                               100.00%        100          -    Covered              
        covered/total bins:                                10         10          -                      
        missing/total bins:                                 0         10          -                      
        % Hit:                                        100.00%        100          -                      
        Auto, Default and User Defined Bins:
            bin <auto[1],READ_DATA_state>               87621          1          -    Covered              
            bin <auto[0],READ_DATA_state>               59952          1          -    Covered              
            bin <auto[1],READ_ADD_state>                73693          1          -    Covered              
            bin <auto[1],CHK_CMD_state>                 29429          1          -    Covered              
            bin <auto[1],WRITE_state>                  149495          1          -    Covered              
            bin <auto[1],IDLE_state>                   109822          1          -    Covered              
            bin <auto[0],READ_ADD_state>                73654          1          -    Covered              
            bin <auto[0],CHK_CMD_state>                 32777          1          -    Covered              
            bin <auto[0],WRITE_state>                  182027          1          -    Covered              
            bin <auto[0],IDLE_state>                   110036          1          -    Covered              
        Illegal and Ignore Bins:
            ignore_bin cs_transition8                    1242                     -    Occurred             
            ignore_bin cs_transition7                   14389                     -    Occurred             
            ignore_bin cs_transition6                   14418                     -    Occurred             
            ignore_bin cs_transition5                   32157                     -    Occurred             
            ignore_bin cs_transition4                   14389                     -    Occurred             
            ignore_bin cs_transition3                   14418                     -    Occurred             
            ignore_bin cs_transition2                   32157                     -    Occurred             
            ignore_bin cs_transition1                   62206                     -    Occurred             
    Cross SS_n_cross_cs                               100.00%        100          -    Covered              
        covered/total bins:                                10         10          -                      
        missing/total bins:                                 0         10          -                      
        % Hit:                                        100.00%        100          -                      
        Auto, Default and User Defined Bins:
            bin <auto[1],READ_DATA_state>               14107          1          -    Covered              
            bin <auto[0],READ_DATA_state>              133466          1          -    Covered              
            bin <auto[1],READ_ADD_state>                14082          1          -    Covered              
            bin <auto[1],CHK_CMD_state>                  1018          1          -    Covered              
            bin <auto[1],WRITE_state>                   31583          1          -    Covered              
            bin <auto[1],IDLE_state>                   155661          1          -    Covered              
            bin <auto[0],READ_ADD_state>               133265          1          -    Covered              
            bin <auto[0],CHK_CMD_state>                 61188          1          -    Covered              
            bin <auto[0],WRITE_state>                  299939          1          -    Covered              
            bin <auto[0],IDLE_state>                    64199          1          -    Covered              
        Illegal and Ignore Bins:
            ignore_bin cs_transition88                   1242                     -    Occurred             
            ignore_bin cs_transition77                  14389                     -    Occurred             
            ignore_bin cs_transition66                  14418                     -    Occurred             
            ignore_bin cs_transition55                  32157                     -    Occurred             
            ignore_bin cs_transition44                  14389                     -    Occurred             
            ignore_bin cs_transition33                  14418                     -    Occurred             
            ignore_bin cs_transition22                  32157                     -    Occurred             
            ignore_bin cs_transition11                  62206                     -    Occurred             
    Cross MOSI_cross_SS_n                             100.00%        100          -    Covered              
        covered/total bins:                                 4          4          -                      
        missing/total bins:                                 0          4          -                      
        % Hit:                                        100.00%        100          -                      
        Auto, Default and User Defined Bins:
            bin <auto[1],auto[1]>                      108121          1          -    Covered              
            bin <auto[0],auto[1]>                      108329          1          -    Covered              
            bin <auto[1],auto[0]>                      341939          1          -    Covered              
            bin <auto[0],auto[0]>                      350117          1          -    Covered              
Statement Coverage:
    Enabled Coverage              Bins      Hits    Misses  Coverage
    ----------------              ----      ----    ------  --------
    Statements                       5         5         0   100.00%

================================Statement Details================================

Statement Coverage for instance /spi_pkg --

    Line         Item                      Count     Source 
    ----         ----                      -----     ------ 
  File SPI_pkg.sv
    1                                                package spi_pkg;
    2                                                	parameter IDLE      = 3'b000;
    3                                                    parameter READ_DATA = 3'b001;
    4                                                    parameter READ_ADD  = 3'b010;
    5                                                    parameter CHK_CMD   = 3'b011;
    6                                                    parameter WRITE     = 3'b100;
    7                                                
    8                                                	class spiclass;
    9                                                		bit clk;
    10                                                       bit read_address_occ;
    11                                                       logic SS_n_cv;
    12                                                       logic [2:0] slave_state_cv;
    13                                                       logic [3:0] MOSI_count;
    14                                                       bit old_MOSI;
    15                                                       bit first_MOSI_data;
    16                                                       rand logic MOSI_cv;
    17                                                       rand logic rst_n;
    18                                               		rand logic [10:0] MOSI_sequence;
    19                                               		rand logic SS_n;
    20                                                       
    21                                               
    22                                               		constraint Input_c {
    23                                                           rst_n               dist {1'b1:=98, 1'b0:=2};
    24                                                           SS_n                dist {1'b0:/92, 1'b1:/8};
    25                                               
    26                                                           if (read_address_occ) {
    27                                                               MOSI_sequence[10:8] dist {3'b000:=33, 3'b001:=33, 3'b111:=33};
    28                                                           }
    29                                                           else if (!read_address_occ) {
    30                                                               MOSI_sequence[10:8] dist {3'b000:=33, 3'b001:=33, 3'b110:=33};   
    31                                                           }
    32                                               
    33                                                           if (MOSI_count==2 && !SS_n) {
    34                                                               MOSI_cv dist {old_MOSI:=100};
    35                                                           }
    36                                                           else if (MOSI_count==3 && !SS_n) {
    37                                                               if  (first_MOSI_data==1'b1) {
    38                                                                   if (read_address_occ) {
    39                                                                       MOSI_cv dist {1'b1:=100};
    40                                                                   }
    41                                                                   else if (!read_address_occ) {
    42                                                                       MOSI_cv dist {1'b0:=100};  
    43                                                                   }
    44                                                               }
    45                                                               else {MOSI_cv dist {1'b1:=50, 1'b0:=50};}
    46                                                           }
    47                                                       }
    48                                               
    49                                                       function void post_randomize();
    50                                                           if (MOSI_count==1 && !SS_n) begin
    51              1                      11412                     old_MOSI = MOSI_cv;
    52                                                           end
    53                                                           else if (MOSI_count==2 && !SS_n) begin
    54              1                      10271                    first_MOSI_data = MOSI_cv;
    55                                                           end
    56                                                       endfunction
    57                                               
    58                                               
    59                                               		covergroup cvr_gp @(posedge clk);
    60                                               			cs_cp  : coverpoint slave_state_cv       {
    61                                                                   bins IDLE_to_CHK_CMD       = (IDLE=>CHK_CMD);
    62                                                                   bins CHK_CMD_to_WRITE      = (CHK_CMD=>WRITE);
    63                                                                   bins CHK_CMD_to_READ_DATA  = (CHK_CMD=>READ_DATA);
    64                                                                   bins CHK_CMD_to_READ_ADD   = (CHK_CMD=>READ_ADD);
    65                                                                   bins CHK_CMD_to_IDLE   = (CHK_CMD=>IDLE);
    66                                                                   bins WRITE_to_IDLE         = (WRITE=>IDLE);
    67                                                                   bins READ_DATA_to_IDLE     = (READ_DATA=>IDLE);
    68                                                                   bins READ_ADD_to_IDLE      = (READ_ADD=>IDLE);
    69                                                                   bins IDLE_state      = {IDLE};
    70                                                                   bins CHK_CMD_state   = {CHK_CMD};
    71                                                                   bins WRITE_state     = {WRITE};
    72                                                                   bins READ_ADD_state  = {READ_ADD};
    73                                                                   bins READ_DATA_state = {READ_DATA};
    74                                                                   }
    75                                               			MOSI_cp   : coverpoint MOSI_cv   ;
    76                                               			SS_n_cp   : coverpoint SS_n_cv; 
    77                                               
    78                                                           MOSI_cross_cs : cross MOSI_cp, cs_cp {
    79                                                                   ignore_bins cs_transition1 = binsof(cs_cp.IDLE_to_CHK_CMD);
    80                                                                   ignore_bins cs_transition2 = binsof(cs_cp.CHK_CMD_to_WRITE);
    81                                                                   ignore_bins cs_transition3 = binsof(cs_cp.CHK_CMD_to_READ_DATA);
    82                                                                   ignore_bins cs_transition4 = binsof(cs_cp.CHK_CMD_to_READ_ADD);
    83                                                                   ignore_bins cs_transition5 = binsof(cs_cp.WRITE_to_IDLE);
    84                                                                   ignore_bins cs_transition6 = binsof(cs_cp.READ_DATA_to_IDLE);
    85                                                                   ignore_bins cs_transition7 = binsof(cs_cp.READ_ADD_to_IDLE);
    86                                                                   ignore_bins cs_transition8 = binsof(cs_cp.CHK_CMD_to_IDLE);
    87                                                                   } 
    88                                                           SS_n_cross_cs : cross SS_n_cp, cs_cp {
    89                                                                   ignore_bins cs_transition11 = binsof(cs_cp.IDLE_to_CHK_CMD);
    90                                                                   ignore_bins cs_transition22 = binsof(cs_cp.CHK_CMD_to_WRITE);
    91                                                                   ignore_bins cs_transition33 = binsof(cs_cp.CHK_CMD_to_READ_DATA);
    92                                                                   ignore_bins cs_transition44 = binsof(cs_cp.CHK_CMD_to_READ_ADD);
    93                                                                   ignore_bins cs_transition55 = binsof(cs_cp.WRITE_to_IDLE);
    94                                                                   ignore_bins cs_transition66 = binsof(cs_cp.READ_DATA_to_IDLE);
    95                                                                   ignore_bins cs_transition77 = binsof(cs_cp.READ_ADD_to_IDLE);
    96                                                                   ignore_bins cs_transition88 = binsof(cs_cp.CHK_CMD_to_IDLE);
    97                                                                   }
    98                                                           MOSI_cross_SS_n     : cross MOSI_cp, SS_n_cp;
    99                                               		endgroup
    100                                              
    101                                              
    102                                              		function new();
    103             1                          1     			cvr_gp = new();
    104             1                          1                 MOSI_count = 0;
    105             1                          1                 read_address_occ = 0;


COVERGROUP COVERAGE:
----------------------------------------------------------------------------------------------------------
Covergroup                                             Metric       Goal       Bins    Status               
                                                                                                         
----------------------------------------------------------------------------------------------------------
 TYPE /spi_pkg/spiclass/cvr_gp                        100.00%        100          -    Covered              
    covered/total bins:                                    41         41          -                      
    missing/total bins:                                     0         41          -                      
    % Hit:                                            100.00%        100          -                      
    Coverpoint cs_cp                                  100.00%        100          -    Covered              
        covered/total bins:                                13         13          -                      
        missing/total bins:                                 0         13          -                      
        % Hit:                                        100.00%        100          -                      
    Coverpoint MOSI_cp                                100.00%        100          -    Covered              
        covered/total bins:                                 2          2          -                      
        missing/total bins:                                 0          2          -                      
        % Hit:                                        100.00%        100          -                      
    Coverpoint SS_n_cp                                100.00%        100          -    Covered              
        covered/total bins:                                 2          2          -                      
        missing/total bins:                                 0          2          -                      
        % Hit:                                        100.00%        100          -                      
    Cross MOSI_cross_cs                               100.00%        100          -    Covered              
        covered/total bins:                                10         10          -                      
        missing/total bins:                                 0         10          -                      
        % Hit:                                        100.00%        100          -                      
    Cross SS_n_cross_cs                               100.00%        100          -    Covered              
        covered/total bins:                                10         10          -                      
        missing/total bins:                                 0         10          -                      
        % Hit:                                        100.00%        100          -                      
    Cross MOSI_cross_SS_n                             100.00%        100          -    Covered              
        covered/total bins:                                 4          4          -                      
        missing/total bins:                                 0          4          -                      
        % Hit:                                        100.00%        100          -                      
 Covergroup instance \/spi_pkg::spiclass::cvr_gp      100.00%        100          -    Covered              
    covered/total bins:                                    41         41          -                      
    missing/total bins:                                     0         41          -                      
    % Hit:                                            100.00%        100          -                      
    Coverpoint cs_cp                                  100.00%        100          -    Covered              
        covered/total bins:                                13         13          -                      
        missing/total bins:                                 0         13          -                      
        % Hit:                                        100.00%        100          -                      
        bin IDLE_to_CHK_CMD                             62206          1          -    Covered              
        bin CHK_CMD_to_WRITE                            32157          1          -    Covered              
        bin CHK_CMD_to_READ_DATA                        14418          1          -    Covered              
        bin CHK_CMD_to_READ_ADD                         14389          1          -    Covered              
        bin CHK_CMD_to_IDLE                              1242          1          -    Covered              
        bin WRITE_to_IDLE                               32157          1          -    Covered              
        bin READ_DATA_to_IDLE                           14418          1          -    Covered              
        bin READ_ADD_to_IDLE                            14389          1          -    Covered              
        bin IDLE_state                                 219860          1          -    Covered              
        bin CHK_CMD_state                               62206          1          -    Covered              
        bin WRITE_state                                331522          1          -    Covered              
        bin READ_ADD_state                             147347          1          -    Covered              
        bin READ_DATA_state                            147573          1          -    Covered              
    Coverpoint MOSI_cp                                100.00%        100          -    Covered              
        covered/total bins:                                 2          2          -                      
        missing/total bins:                                 0          2          -                      
        % Hit:                                        100.00%        100          -                      
        bin auto[0]                                    458446          1          -    Covered              
        bin auto[1]                                    450060          1          -    Covered              
    Coverpoint SS_n_cp                                100.00%        100          -    Covered              
        covered/total bins:                                 2          2          -                      
        missing/total bins:                                 0          2          -                      
        % Hit:                                        100.00%        100          -                      
        bin auto[0]                                    692057          1          -    Covered              
        bin auto[1]                                    216451          1          -    Covered              
    Cross MOSI_cross_cs                               100.00%        100          -    Covered              
        covered/total bins:                                10         10          -                      
        missing/total bins:                                 0         10          -                      
        % Hit:                                        100.00%        100          -                      
        Auto, Default and User Defined Bins:
            bin <auto[1],READ_DATA_state>               87621          1          -    Covered              
            bin <auto[0],READ_DATA_state>               59952          1          -    Covered              
            bin <auto[1],READ_ADD_state>                73693          1          -    Covered              
            bin <auto[1],CHK_CMD_state>                 29429          1          -    Covered              
            bin <auto[1],WRITE_state>                  149495          1          -    Covered              
            bin <auto[1],IDLE_state>                   109822          1          -    Covered              
            bin <auto[0],READ_ADD_state>                73654          1          -    Covered              
            bin <auto[0],CHK_CMD_state>                 32777          1          -    Covered              
            bin <auto[0],WRITE_state>                  182027          1          -    Covered              
            bin <auto[0],IDLE_state>                   110036          1          -    Covered              
        Illegal and Ignore Bins:
            ignore_bin cs_transition8                    1242                     -    Occurred             
            ignore_bin cs_transition7                   14389                     -    Occurred             
            ignore_bin cs_transition6                   14418                     -    Occurred             
            ignore_bin cs_transition5                   32157                     -    Occurred             
            ignore_bin cs_transition4                   14389                     -    Occurred             
            ignore_bin cs_transition3                   14418                     -    Occurred             
            ignore_bin cs_transition2                   32157                     -    Occurred             
            ignore_bin cs_transition1                   62206                     -    Occurred             
    Cross SS_n_cross_cs                               100.00%        100          -    Covered              
        covered/total bins:                                10         10          -                      
        missing/total bins:                                 0         10          -                      
        % Hit:                                        100.00%        100          -                      
        Auto, Default and User Defined Bins:
            bin <auto[1],READ_DATA_state>               14107          1          -    Covered              
            bin <auto[0],READ_DATA_state>              133466          1          -    Covered              
            bin <auto[1],READ_ADD_state>                14082          1          -    Covered              
            bin <auto[1],CHK_CMD_state>                  1018          1          -    Covered              
            bin <auto[1],WRITE_state>                   31583          1          -    Covered              
            bin <auto[1],IDLE_state>                   155661          1          -    Covered              
            bin <auto[0],READ_ADD_state>               133265          1          -    Covered              
            bin <auto[0],CHK_CMD_state>                 61188          1          -    Covered              
            bin <auto[0],WRITE_state>                  299939          1          -    Covered              
            bin <auto[0],IDLE_state>                    64199          1          -    Covered              
        Illegal and Ignore Bins:
            ignore_bin cs_transition88                   1242                     -    Occurred             
            ignore_bin cs_transition77                  14389                     -    Occurred             
            ignore_bin cs_transition66                  14418                     -    Occurred             
            ignore_bin cs_transition55                  32157                     -    Occurred             
            ignore_bin cs_transition44                  14389                     -    Occurred             
            ignore_bin cs_transition33                  14418                     -    Occurred             
            ignore_bin cs_transition22                  32157                     -    Occurred             
            ignore_bin cs_transition11                  62206                     -    Occurred             
    Cross MOSI_cross_SS_n                             100.00%        100          -    Covered              
        covered/total bins:                                 4          4          -                      
        missing/total bins:                                 0          4          -                      
        % Hit:                                        100.00%        100          -                      
        Auto, Default and User Defined Bins:
            bin <auto[1],auto[1]>                      108121          1          -    Covered              
            bin <auto[0],auto[1]>                      108329          1          -    Covered              
            bin <auto[1],auto[0]>                      341939          1          -    Covered              
            bin <auto[0],auto[0]>                      350117          1          -    Covered              

TOTAL COVERGROUP COVERAGE: 100.00%  COVERGROUP TYPES: 1

DIRECTIVE COVERAGE:
--------------------------------------------------------------------------------------------
Name                                     Design Design   Lang File(Line)      Hits Status    
                                         Unit   UnitType                                     
--------------------------------------------------------------------------------------------
/Wrapper_tb/DUT/check_asserts/toCHK_CMD_cp 
                                         SPI_Asrts Verilog  SVA  SPI_SVA.sv(38)  60662 Covered   
/Wrapper_tb/DUT/check_asserts/toWRITE_cp SPI_Asrts Verilog  SVA  SPI_SVA.sv(39)  31433 Covered   
/Wrapper_tb/DUT/check_asserts/toREAD_cp  SPI_Asrts Verilog  SVA  SPI_SVA.sv(40)  28135 Covered   
/Wrapper_tb/DUT/check_asserts/toIDLE_cp  SPI_Asrts Verilog  SVA  SPI_SVA.sv(41)  60757 Covered   
/Wrapper_tb/DUT/check_asserts/Reset_cp   SPI_Asrts Verilog  SVA  SPI_SVA.sv(42)  1903 Covered   

TOTAL DIRECTIVE COVERAGE: 100.00%  COVERS: 5

ASSERTION RESULTS:
--------------------------------------------------------------------
Name                 File(Line)                   Failure      Pass 
                                                  Count        Count
--------------------------------------------------------------------
/Wrapper_tb/#anonblk#124366370#87#4#/#ublk#124366370#87/immed__88
                     Wrapper_tb.sv(88)                  0          1
/Wrapper_tb/#anonblk#124366370#99#4#/#ublk#124366370#99/immed__100
                     Wrapper_tb.sv(100)                 0          1
/Wrapper_tb/DUT/r1/Assrt1
                     ram.sv(24)                         0          0
/Wrapper_tb/DUT/r1/Assrt2
                     ram.sv(25)                         0          0
/Wrapper_tb/DUT/check_asserts/toCHK_CMD_sva
                     SPI_SVA.sv(32)                     0          1
/Wrapper_tb/DUT/check_asserts/toWRITE_sva
                     SPI_SVA.sv(33)                     0          1
/Wrapper_tb/DUT/check_asserts/toREAD_sva
                     SPI_SVA.sv(34)                     0          1
/Wrapper_tb/DUT/check_asserts/toIDLE_sva
                     SPI_SVA.sv(35)                     0          1
/Wrapper_tb/DUT/check_asserts/Reset_sva
                     SPI_SVA.sv(36)                     0          1
/Wrapper_tb/GoldenModel_memory/Assrt1
                     ram.sv(24)                         0          0
/Wrapper_tb/GoldenModel_memory/Assrt2
                     ram.sv(25)                         0          0

Total Coverage By Instance (filtered view): 88.96%

